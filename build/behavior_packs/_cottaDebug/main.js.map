{"version":3,"sources":["main.ts"],"names":[],"mappings":"AAAA,OAAO,EACL,KAAK,EACL,MAAM,GAWP,MAAM,mBAAmB,CAAC;AAE3B,MAAM,WAAW,GAAW,UAAU,CAAC;AAEvC,IAAI,MAAc,CAAC;AACnB,MAAM,SAAS,GAAG,KAAK,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;AAElD,MAAM,SAAS,GAAG,CAAC,KAA4B,EAAE,EAAE;IACjD,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,KAAK,WAAW,EAAE;QACrC,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QACtB,KAAK,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;KACjC;;QAAM,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;AACnC,CAAC,CAAC;AAEF,MAAM,iBAAiB,GAAG,CAAC,KAA2B,EAAE,EAAE;IACxD,IAAI,KAAK,CAAC,MAAM,IAAI,MAAM,EAAE;QAC1B,OAAO;KACR;IAED,IAAI,IAAI,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;IACzB,MAAM,iBAAiB,GAAG,KAAK,CAAC;IAChC,IAAI,aAAa,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,iBAAiB,CAAC,CAAC;IAC1E,IAAI,IAAI,IAAI,GAAG,EAAE;QACf,MAAM,CAAC,UAAU,CAAC,cAAc,EAAE,CAAC,CAAC,CAAC;KACtC;AACH,CAAC,CAAC;AAEF,MAAM,cAAc,GAAG,GAAG,EAAE;IAC1B,MAAM,cAAc,GAAG,MAAM,CAAC,eAAe,EAAE,CAAC;IAChD,MAAM,mBAAmB,GAAG,oBAAoB,CAAC,cAAc,CAAC,CAAC;IAEjE,MAAM,SAAS,GAAW,SAAS,CAAC,WAAW,CAAC,kBAAkB,EAAE,mBAAmB,CAAC,CAAC;IACzF,KAAK,CAAC,WAAW,CAAC,gBAAgB,CAAC,CAAC;IACpC,MAAM,oBAAoB,GAAyB,MAAM,CAAC,YAAY,CAAC,OAAO,CAAyB,CAAC;IACxG,oBAAoB,CAAC,KAAK,GAAG,GAAG,CAAC;AACnC,CAAC,CAAC;AAEF,MAAM,oBAAoB,GAAG,CAAC,WAAoB,EAAE,cAAsB,EAAE,EAAW,EAAE;IACvF,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;IAC7E,WAAW,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,WAAW,GAAG,CAAC,CAAC,CAAC,GAAG,WAAW,CAAC;IAC7E,OAAO,WAAW,CAAC;AACrB,CAAC,CAAC;AAEF,KAAK,CAAC,WAAW,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,2CAA2C;AAE/F,KAAK,CAAC,WAAW,CAAC,UAAU,CAAC,SAAS,CAAC,iBAAiB,CAAC,CAAC","file":"../cotta/scripts/main.js","sourcesContent":["import {\n  world,\n  system,\n  EntityHealthChangedAfterEvent,\n  EntityHealthChangedAfterEventSignal,\n  Player,\n  PlayerJoinAfterEvent,\n  PlayerJoinAfterEventSignal,\n  PlayerSpawnAfterEvent,\n  ButtonPushAfterEvent,\n  Vector3,\n  Entity,\n  EntityScaleComponent,\n} from \"@minecraft/server\";\n\nconst JORDAN_NAME: string = \"calvell0\";\n\nlet jordan: Player;\nconst overworld = world.getDimension(\"overworld\");\n\nconst setJordan = (event: PlayerSpawnAfterEvent) => {\n  if (event.player.name === JORDAN_NAME) {\n    jordan = event.player;\n    world.sendMessage(\"jordan set\");\n  } else console.log(\"not jordan\");\n};\n\nconst handlePlayerEvent = (event: ButtonPushAfterEvent) => {\n  if (event.source != jordan) {\n    return;\n  }\n\n  let rand = Math.random();\n  const MAX_TIMEOUT_TICKS = 10000;\n  let randomTimeout: number = Math.round(Math.random() * MAX_TIMEOUT_TICKS);\n  if (rand <= 0.5) {\n    system.runTimeout(fuckWithJordan, 0);\n  }\n};\n\nconst fuckWithJordan = () => {\n  const jordanLocation = jordan.getHeadLocation();\n  const parrotSpawnLocation = getRandomNewLocation(jordanLocation);\n\n  const newParrot: Entity = overworld.spawnEntity(\"minecraft:parrot\", parrotSpawnLocation);\n  world.sendMessage(\"parrot spawned\");\n  const jordanScaleComponent: EntityScaleComponent = jordan.getComponent(\"scale\") as EntityScaleComponent;\n  jordanScaleComponent.value = 0.5;\n};\n\nconst getRandomNewLocation = (coordinates: Vector3, maxDistance: number = 15): Vector3 => {\n  coordinates.x += Math.round(Math.random() * (maxDistance * 2)) - maxDistance;\n  coordinates.z += Math.round(Math.random() * (maxDistance * 2)) - maxDistance;\n  return coordinates;\n};\n\nworld.afterEvents.playerSpawn.subscribe(setJordan); //check if newly joining players are jordan\n\nworld.afterEvents.buttonPush.subscribe(handlePlayerEvent);\n"],"sourceRoot":"../../../scripts/"}